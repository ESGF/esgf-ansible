
mirror:
  base: http://aims1.llnl.gov/esgf/dist

esg:
  config:
    repo: https://github.com/ESGF/config.git
    version: master
    dir: /esg/config
  content: /esg/content
  home: /esg
  log: /esg/log

pkgs:
  apache: httpd
  postgres_server: postgresql-server-8.4.20
  postgres_devel: postgresql-devel-8.4.20
  psgycopg2: python-psycopg2

conda:
  prefix: /usr/local/conda
  exe: /usr/local/conda/bin/conda
  actv: source /usr/local/conda/bin/activate
  envs: /usr/local/conda/envs
  mods: lib/python2.7/site-packages

java:
  src: "{{ mirror.base }}/java/1.8.0_192/jdk1.8.0_192-64.tar.gz"
  root_dir: jdk1.8.0_192
  path: /usr/local/java

tomcat:
  src: http://archive.apache.org/dist/tomcat/tomcat-8/v8.5.20/bin/apache-tomcat-8.5.20.tar.gz
  root_dir: apache-tomcat-8.5.20
  path: /usr/local/tomcat
  webapps: /usr/local/tomcat/webapps
  ctrl_script: /usr/local/tomcat/bin/catalina.sh
  ts:
    url: "{{ mirror.base }}/certs/esg-truststore.ts"
    path: "{{ esg.config.dir }}/tomcat/esg-truststore.ts"
    pass: changeit
  ks:
    path: "{{ esg.config.dir }}/tomcat/keystore-tomcat"
    pass: foobar

esgf_rpm:
  baseurl: https://aims1.llnl.gov/esgf/RPM/centos/6/x86_64/

all_db:
  users:
    super: 
      name: dbsuper
      pass: foobar
  db: esgcet
  host: localhost
  port: 5432

db_url: '{{ all_db.users.super.name }}:{{ all_db.users.super.pass }}@{{ all_db.host }}:{{ all_db.port }}/{{ all_db.db }}'

schema_migrate:
  env: schema-migrate 

properties:
  dest: /esg/config/esgf.properties
  fragments: /tmp/properties_fragments/

httpd:
  trusted_ca:
    url: "{{ mirror.base }}/certs/esgf-ca-bundle.crt"
    name: esgf-ca-bundle.crt
  cert_dir: /etc/certs
  cabundle: /etc/certs/esgf-ca-bundle.crt
  hostkey: /etc/certs/hostkey.pem
  hostcert: /etc/certs/hostcert.pem
  cachain: /etc/certs/cachain.pem

tempca:
  remote:
    dir: /etc/tempcerts
    ca:
      key: /etc/tempcerts/ca.pem
      cert: /etc/tempcerts/ca.crt
    host:
      key: /etc/tempcerts/host.pem
      cert: /etc/tempcerts/host.crt
  local:
    dir: /tmp/tempcerts/{{ ansible_nodename }}
    ca:
      key: /tmp/tempcerts/{{ ansible_nodename }}/ca.pem
      cert: /tmp/tempcerts/{{ ansible_nodename }}/ca.crt
      csr: /tmp/tempcerts/{{ ansible_nodename }}/ca.csr
    host:
      key: /tmp/tempcerts/{{ ansible_nodename }}/host.pem
      cert: /tmp/tempcerts/{{ ansible_nodename }}/host.crt
      csr: /tmp/tempcerts/{{ ansible_nodename }}/host.csr

orp_webapp:
  url: "{{ mirror.base }}/2.6/8/esg-orp/esg-orp.war"
  name: esg-orp

security:
  egg:
    name: "esgf_security-0.1.5-py2.7.egg"
    url: "{{ mirror.base }}/devel/3.0/a/esgf-security/esgf_security-0.1.5-py2.7.egg"
    script: "esgf_security_initialize"

type_bits:
  data: 4
  index: 8
  idp: 16

grid_security:
  dir: /etc/grid-security
  cert_dir: /etc/grid-security/certificates
  host:
    key: /etc/grid-security/hostkey.pem
    cert: /etc/grid-security/hostcert.pem

prometheus:
  node_exporter: 
    dir: /usr/local/node-exporter
    sh: /usr/local/node-exporter/node_exporter.sh